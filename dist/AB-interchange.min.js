!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){!function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}if("function"==typeof window.CustomEvent)return!1;t.prototype=window.Event.prototype,window.CustomEvent=t}(),function(){var t=function(t,e){var i=!1,n=function(){i||(i=!0,window.requestAnimationFrame(function(){window.dispatchEvent(new CustomEvent(e)),i=!1}))};window.addEventListener(t,n)};t("resize","ab-resize"),t("scroll","ab-scroll"),t("keyup","ab-keyup")}();var i=function(){var t={},e=!1,n=0,s=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);for(;n<s;n++)!function(n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e&&"[object Object]"===Object.prototype.toString.call(n[s])?t[s]=i(!0,t[s],n[s]):t[s]=n[s])}(arguments[n]);return t},n=function(t){try{JSON.parse(t)}catch(t){return!1}return!0};window.AB={runUpdaters:function(t){if(this.options[t])this.plugins[t](this.options[t]);else for(var e in AB.options)this.options.hasOwnProperty(e)&&this.plugins[e](this.options[e])},plugins:{},options:{}},t.exports={extend:i,isJson:n,AB:window.AB}},function(t,e,i){"use strict";var n=i(0),s=(i(2),"data-ab-interchange"),r={mode:"img",lazySettings:{offscreen:1,delayed:null,layout:"fluid"}},o=function(){var t=this.el.getAttribute("width"),e=this.el.getAttribute("height"),i={},s={};if(n.isJson(t)&&n.isJson(e)){i=JSON.parse(t),s=JSON.parse(e);for(var r in i)i.hasOwnProperty(r)&&window.AB.mediaQuery.is(r)&&(t=i[r],e=s[r])}return{width:t,height:e}},a=function(){var t=document.createElement("div"),e=document.createElement("img"),i=this.el.getAttribute("alt"),n=o.call(this),s=n.width,r=n.height;this.el.innerHTML="",this.el.style.overflow="hidden",this.el.style.position="relative",this.el.classList.add("ab-interchange-loading"),"fixed"===this.settings.lazySettings.layout&&(this.el.style.height=r+"px",this.el.style.width=s+"px"),t.classList.add("ab-interchange-placeholder"),t.style.paddingTop=(r/s*100).toFixed(2)+"%",e.style.position="absolute",e.style.top=0,e.style.right=0,e.style.bottom=0,e.style.left=0,e.style.maxHeight="100%",e.style.minHeight="100%",e.style.maxWidth="100%",e.style.minWidth="100%",e.style.height=0,e.alt=i||"",this.el.appendChild(t),this.el.appendChild(e),this._imgNode=this.el.querySelector("img")},l=function(){this._replaced||("img"===this.mode&&h.call(this),"background"===this.mode&&c.call(this))},h=function(){var t=this,e=new Image;this._imgNode.src!==this.currentPath&&this.inView()&&("img"===this.mode&&a.call(this),e.onload=function(){t._imgNode.src=t.currentPath,u.call(t),t._replaced=!0},e.src=this.currentPath)},c=function(){var t=this,e=new Image;console.log(this.el.style.backgroundImage,'url("'+this.currentPath+'")'),this.el.style.backgroundImage!=='url("'+this.currentPath+'")'&&this.inView()&&(this.currentPath?(e.onload=function(){t.el.style.backgroundImage="url("+t.currentPath+")",u.call(t),t._replaced=!0},e.src=this.currentPath):this.el.style.backgroundImage="none")},u=function(){this.el.classList.remove("ab-interchange-loading"),window.dispatchEvent(new CustomEvent("replaced.ab-interchange",{detail:{element:this.el}}))},d=function(){var t,e="";window.addEventListener("changed.ab-mediaquery",this.resetDisplay.bind(this)),"IntersectionObserver"in window?(e=parseInt((this.settings.lazySettings.offscreen-1)*window.innerHeight,10)+"px",t=new IntersectionObserver(f.bind(this),{root:null,rootMargin:"0px 0px "+e+" 0px",threshold:0}),t.observe(this.el)):window.addEventListener("ab-scroll",f.bind(this))},p=function(){for(var t,e,i,n=[],s=this.el.getAttribute("data-ab-interchange-src"),r=s.match(/\[[^\]]+\]/g),o=0,a=r.length;o<a;o++)t=r[o].slice(1,-1).split(", "),e=t.slice(0,-1).join(""),i=t[t.length-1],n.push({path:e,query:i});this.rules=n},g=function(){for(var t="",e=this.rules,i=0,n=e.length;i<n;i++)window.AB.mediaQuery.is(e[i].query)&&(t=e[i].path);this.currentPath!==t&&(this.currentPath=t,l.call(this))},f=function(){this.inView()&&!this._replaced&&(clearTimeout(this._lazyTimer),l.call(this))},w=function(){var t=this;this.settings.lazySettings.delayed&&(this._lazyTimer=setTimeout(function(){l.call(t)},this.settings.lazySettings.delayed)),"img"===this.mode&&a.call(this),d.call(this),p.call(this),g.call(this)},m=function(t,e){this.el=t;var i=n.isJson(this.el.getAttribute(s))?JSON.parse(this.el.getAttribute(s)):{};this.settings=n.extend(!0,r,e,i),this.rules=[],this.currentPath="",this.mode=this.settings.mode,this.replaced=!1,this._imgNode=this.el,this._lazyTimer,w.call(this)};m.prototype={resetDisplay:function(){this._replaced=!1,g.call(this)},inView:function(){var t=window.innerHeight,e=this.el.getBoundingClientRect(),i=this.el.offsetHeight,n=-i-t*(this.settings.lazySettings.offscreen-1),s=t+t*(this.settings.lazySettings.offscreen-1);return e.top>=n&&e.top<=s}};var y=function(t){for(var e=document.querySelectorAll("["+s+"]"),i=0,n=e.length;i<n;i++)e[i].abInterchange||(e[i].abInterchange=new m(e[i],t));window.AB.options.abInterchange||(window.AB.options.abInterchange=t)};window.AB.plugins.interchange=y,t.exports=y},function(t,e,i){"use strict";var n=(i(0),function(t){window.AB.mediaQuery=function(){var e=t||{bp:{}},i=function(){var t=[];for(var i in e.bp)e.bp.hasOwnProperty(i)&&window.matchMedia(e.bp[i]).matches&&t.push(i);return t},n=function(){var t=i();t.join("|")!==r.join("|")&&(r=t,window.dispatchEvent(new CustomEvent("changed.ab-mediaquery")))},s=function(t){if(e.bp[t])return window.matchMedia(e.bp[t]).matches},r=i();return window.addEventListener("ab-resize",n),{get current(){return r},is:s}}()});window.AB.plugins.mediaQuery=n,t.exports=n}]);