!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){!function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}if("function"==typeof window.CustomEvent)return!1;t.prototype=window.Event.prototype,window.CustomEvent=t}(),window.AB={extend:function(){var t={},e=!1,n=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);for(;n<i;n++)!function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e&&"[object Object]"===Object.prototype.toString.call(n[i])?t[i]=window.AB.extend(!0,t[i],n[i]):t[i]=n[i])}(arguments[n]);return t},isJson:function(t){try{JSON.parse(t)}catch(t){return!1}return!0},plugins:{}}},function(t,e,n){"use strict";var i=(n(0),n(2),"data-ab-interchange"),r=function(t,e){this.el=t;var n=window.AB.isJson(this.el.getAttribute(i))?JSON.parse(this.el.getAttribute(i)):{};this.settings=window.AB.extend(!0,r.defaults,e,n),this.rules=[],this.currentPath="",this.mode=this._defineMode(),this.animated=!1,this.init()};r.defaults={mode:"background",lazy:!0,offscreen:1.5},r.prototype={init:function(){if(this.el.parentNode.matches("picture")&&window.HTMLPictureElement&&!this.settings.lazy)return this;this._events()._generateRules()._updatePath()},_defineMode:function(){return"IMG"===this.el.nodeName?"img":this.settings.mode},_generateRules:function(){for(var t=[],e=this.el.getAttribute("data-ab-interchange-src").match(/\[[^\]]+\]/g),n=0,i=e.length;n<i;n++){var r=e[n].slice(1,-1).split(", "),s=r.slice(0,-1).join(""),a=r[r.length-1];t.push({path:s,query:a})}return this.rules=t,this},_updatePath:function(){for(var t="",e=this.rules,n=0,i=e.length;n<i;n++)window.AB.mediaQuery.is(e[n].query)&&(t=e[n].path);return this.currentPath===t?this:(this.currentPath=t,this._replace(),this)},_onScroll:function(){return this.animated=!1,this._inView()&&this._replace(),this},_events:function(){var t=this;return window.addEventListener("changed.ab-mediaquery",t._updatePath.bind(t)),t.settings.lazy&&window.addEventListener("scroll",function(){t.animated||(window.requestAnimationFrame(t._onScroll.bind(t)),t.animated=!0)}),t.el.addEventListener("load",t._triggerEvent.bind(t)),t},_inView:function(){var t=window.innerHeight,e=this.el.getBoundingClientRect();return e.top>=-t*this.settings.offscreen&&e.bottom<=t+t*this.settings.offscreen},_triggerEvent:function(){var t=new CustomEvent("replaced.ab-interchange",{detail:{element:this.el}});window.dispatchEvent(t)},_replace:function(){if(this.settings.lazy&&!this._inView())return this;"img"===this.mode?this._replaceImg():"background"===this.mode?this._replaceBackground():"ajax"===this.mode&&this._replaceAjax()},_replaceImg:function(){if(this.el.src===this.currentPath)return this;this.el.src=this.currentPath,this._triggerEvent()},_replaceBackground:function(){if(this.el.style.backgroundImage==='url("'+this.currentPath+'")')return this;this.currentPath?this.el.style.backgroundImage="url("+this.currentPath+")":this.el.style.backgroundImage="none",this._triggerEvent()},_replaceAjax:function(){var t=this;if(!this.currentPath)return this.el.innerHTML="",this;var e=new XMLHttpRequest;e.open("GET",this.currentPath,!0),e.onload=function(){this.status>=200&&this.status<400?(t.el.innerHTML=this.response,t._triggerEvent()):t.el.innerHTML=""},e.onerror=function(){this.el.innerHTML=""},e.send()}},window.abInterchange=function(t){for(var e=document.querySelectorAll("["+i+"]"),n=0,s=e.length;n<s;n++)e[n].interchange||(e[n].interchange=new r(e[n],t))}},function(t,e,n){"use strict";var i=(n(0),function(t){this.settings=window.AB.extend(!0,i.defaults,t),this.queries=this.settings.bp,this.current=[],this.animated=!1,this._init()});i.defaults={bp:{}},i.prototype={_init:function(){return this.current=this._getCurrent(),this._watcher(),this},_getCurrent:function(){var t=[];for(var e in this.queries)this.queries.hasOwnProperty(e)&&window.matchMedia(this.queries[e]).matches&&t.push(e);return t},_watcher:function(){var t=this;window.addEventListener("resize",function(){t.animated||(window.requestAnimationFrame(t._updateSizes.bind(t)),t.animated=!0)})},_updateSizes:function(){var t=this._getCurrent(),e=new CustomEvent("changed.ab-mediaquery");this.animated=!1,t.join("|")!==this.current.join("|")&&(this.current=t,window.dispatchEvent(e))},is:function(t){return window.matchMedia(this.queries[t]).matches}},window.abMediaQuery=function(t){window.AB.mediaQuery=new i(t)}}]);