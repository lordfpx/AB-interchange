!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){!function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}if("function"==typeof window.CustomEvent)return!1;t.prototype=window.Event.prototype,window.CustomEvent=t}(),window.AB={extend:function(){var t={},e=!1,i=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],i++);for(;i<n;i++)!function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e&&"[object Object]"===Object.prototype.toString.call(i[n])?t[n]=window.AB.extend(!0,t[n],i[n]):t[n]=i[n])}(arguments[i]);return t},isJson:function(t){try{JSON.parse(t)}catch(t){return!1}return!0},plugins:{}}},function(t,e,i){"use strict";var n=(i(0),i(2),"data-ab-interchange"),r=function(t,e){this.el=t;var i=window.AB.isJson(this.el.getAttribute(n))?JSON.parse(this.el.getAttribute(n)):{};this.settings=window.AB.extend(!0,r.defaults,e,i),this.rules=[],this.currentPath="",this.settings.mode=this._defineMode(),this.animated=!1,this.lazyTimer,this.init()};r.defaults={mode:"background",lazy:!1,offscreen:1.5,delayed:!1,placeholder:!1},r.prototype={init:function(){var t=this;if(this.el.parentNode.matches("picture")&&window.HTMLPictureElement&&!this.settings.lazy)return this;this.settings.lazy&&this.settings.delayed&&(this.lazyTimer=setTimeout(function(){t.settings.lazy=!1,t._replace()},this.settings.delayed)),this.settings.placeholder&&this._setPlaceholder(),this._events()._generateRules()._updatePath()},_setPlaceholder:function(){var t=document.createElement("div"),e=this.el.getAttribute("width"),i=this.el.getAttribute("height");if(!e&&!i)return this;t.classList.add("ab-interchange-placeholder"),t.style.overflow="hidden",t.style.position="relative",t.style.paddingTop=(i/e*100).toFixed(2)+"%",this.el.style.position="absolute",this.el.style.top=0,this.el.style.right=0,this.el.style.bottom=0,this.el.style.left=0,this.el.style.maxHeight="100%",this.el.style.minHeight="100%",this.el.style.maxWidth="100%",this.el.style.minWidth="100%",this.el.style.width=0,this.el.style.height=0,this.el.parentNode.matches("picture")?(this.el.parentNode.parentNode.insertBefore(t,this.el.parentNode),t.appendChild(this.el.parentNode)):(this.el.parentNode.insertBefore(t,this.el),t.appendChild(this.el))},_defineMode:function(){return"IMG"===this.el.nodeName?"img":this.settings.mode},_generateRules:function(){for(var t=[],e=this.el.getAttribute("data-ab-interchange-src").match(/\[[^\]]+\]/g),i=0,n=e.length;i<n;i++){var r=e[i].slice(1,-1).split(", "),s=r.slice(0,-1).join(""),a=r[r.length-1];t.push({path:s,query:a})}return this.rules=t,this},_updatePath:function(){for(var t="",e=this.rules,i=0,n=e.length;i<n;i++)window.AB.mediaQuery.is(e[i].query)&&(t=e[i].path);return this.currentPath===t?this:(this.currentPath=t,this._replace(),this)},_onScroll:function(){return this._inView()&&(clearTimeout(this.lazyTimer),this._replace()),this.animated=!1,this},_requestAnimationFrame:function(){this.animated||window.requestAnimationFrame(this._onScroll.bind(this)),this.animated=!0},_events:function(){var t=this;return window.addEventListener("changed.ab-mediaquery",t._updatePath.bind(t)),t.settings.lazy&&window.addEventListener("scroll",t._requestAnimationFrame.bind(t)),t.el.addEventListener("load",t._triggerEvent.bind(t)),t},_inView:function(){var t=window.innerHeight,e=this.el.getBoundingClientRect();return e.top>=-t*this.settings.offscreen&&e.bottom<=t+t*this.settings.offscreen},_triggerEvent:function(){var t=new CustomEvent("replaced.ab-interchange",{detail:{element:this.el}});window.dispatchEvent(t)},_replace:function(){if(this.settings.lazy&&!this._inView())return this;"img"===this.settings.mode?this._replaceImg():"background"===this.settings.mode?this._replaceBackground():"ajax"===this.settings.mode&&this._replaceAjax()},_replaceImg:function(){if(this.el.src===this.currentPath)return this;this.el.src=this.currentPath,this._triggerEvent()},_replaceBackground:function(){if(this.el.style.backgroundImage==='url("'+this.currentPath+'")')return this;this.currentPath?this.el.style.backgroundImage="url("+this.currentPath+")":this.el.style.backgroundImage="none",this._triggerEvent()},_replaceAjax:function(){var t=this;if(!this.currentPath)return this.el.innerHTML="",this;var e=new XMLHttpRequest;e.open("GET",this.currentPath,!0),e.onload=function(){this.status>=200&&this.status<400?(t.el.innerHTML=this.response,t._triggerEvent()):t.el.innerHTML=""},e.onerror=function(){this.el.innerHTML=""},e.send()}},window.abInterchange=function(t){for(var e=document.querySelectorAll("["+n+"]"),i=0,s=e.length;i<s;i++)e[i].interchange||(e[i].interchange=new r(e[i],t))}},function(t,e,i){"use strict";var n=(i(0),function(t){this.settings=window.AB.extend(!0,n.defaults,t),this.queries=this.settings.bp,this.current=[],this.animated=!1,this._init()});n.defaults={bp:{}},n.prototype={_init:function(){return this.current=this._getCurrent(),this._watcher(),this},_getCurrent:function(){var t=[];for(var e in this.queries)this.queries.hasOwnProperty(e)&&window.matchMedia(this.queries[e]).matches&&t.push(e);return t},_watcher:function(){var t=this;window.addEventListener("resize",function(){t.animated||(window.requestAnimationFrame(t._updateSizes.bind(t)),t.animated=!0)})},_updateSizes:function(){var t=this._getCurrent(),e=new CustomEvent("changed.ab-mediaquery");this.animated=!1,t.join("|")!==this.current.join("|")&&(this.current=t,window.dispatchEvent(e))},is:function(t){return window.matchMedia(this.queries[t]).matches}},window.abMediaQuery=function(t){window.AB.mediaQuery=new n(t)}}]);